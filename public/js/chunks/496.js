"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[496,165],{165:(t,e,n)=>{n.r(e),n.d(e,{default:()=>l});const i={props:{elect:{type:Object,default:function(){}}},computed:{checkStatus:function(){var t=this.moment().toISOString(),e=this.moment(this.elect.closing).toISOString();return this.moment(this.elect.opening).toISOString()>t?"notOpen":t>e?"closed":"open"}}};var o=n(1900);const s=(0,o.Z)(i,(function(){var t=this,e=t._self._c;return e("div",[e("v-card",{staticClass:"mx-auto my-3 elec-card",attrs:{elevation:"0","max-width":"600"}},[e("v-img",{attrs:{height:"150",src:t.elect.image}}),t._v(" "),e("v-card-title",{staticClass:"text-capitalize"},[t._v(t._s(t.elect.name))]),t._v(" "),e("v-card-text",[e("div",[t._v(t._s(t.elect.description))]),t._v(" "),e("v-divider",{staticClass:"my-2"}),t._v(" "),e("div",{staticClass:"text-left"},[e("div",[e("span",{staticClass:"text--primary"},[e("v-icon",{attrs:{color:"primary"}},[t._v("mdi-calendar")]),t._v("\n                        Open: "+t._s(t.moment(t.elect.opening).format("MM/DD/YYYY, h:mm a"))+"\n                    ")],1)]),t._v(" "),e("span",[e("span",{staticClass:"text--primary"},[e("v-icon",{attrs:{color:"red"}},[t._v("mdi-calendar")]),t._v("\n                        Close: "+t._s(t.moment(t.elect.closing).format("MM/DD/YYYY, h:mm a"))+"\n                    ")],1)])])],1),t._v(" "),e("v-card-actions",["notOpen"==t.checkStatus?e("v-btn",{attrs:{block:"",disabled:"",color:"primary",large:"",outlined:""}},[t._v("\n                Not Open\n                "),e("v-icon",{staticClass:"ml-1"},[t._v("mdi-checkbox-outline")])],1):t._e(),t._v(" "),"closed"==t.checkStatus?e("v-btn",{attrs:{block:"",dark:"",color:"brown",large:""},on:{click:function(e){return t.$router.push({path:"/election/"+t.elect.urlkey+"/result"})}}},[t._v("\n                View Result\n                "),e("v-icon",{staticClass:"ml-1"},[t._v("mdi-chart-box")])],1):t._e(),t._v(" "),"open"==t.checkStatus?[t.elect.voted?e("v-btn",{attrs:{block:"",color:"success",large:"",disabled:"",outlined:""}},[t._v("\n                    Vote Submitted\n                    "),e("v-icon",{staticClass:"ml-1"},[t._v("mdi-checkbox-outline")])],1):e("v-btn",{attrs:{block:"",color:"primary",large:"",outlined:""},on:{click:function(e){return t.$emit("codeDialog")}}},[t._v("\n                    Vote Now\n                    "),e("v-icon",{staticClass:"ml-1"},[t._v("mdi-checkbox-outline")])],1)]:t._e()],2)],1)],1)}),[],!1,null,null,null).exports;const c={data:function(){return{code:"",submitting:!1,invalid:!1,log:"",urlKey1:""}},props:{show:{type:Boolean,default:function(){return!1}},urlKey:{type:String,default:function(){return""}}},mounted:function(){},methods:{submitCode:function(){var t=this;if(console.log(this.code),this.code.length>=1){this.submitting=!0;var e="";e=this.$route.params.key?this.$route.params.key:this.urlKey1,axios.post("/student-api/election-api/".concat(e,"/check-code"),this.code).then((function(n){var i=n.data;setTimeout((function(){"error"==i.type?(t.submitting=!1,t.invalid=!0,t.log=i.text):"success"==i.type&&(localStorage.setItem("_passcode",t.code),t.$emit("close"),t.$router.push({path:"/election/"+e+"/vote"}))}),2e3)}))}}},watch:{urlKey:{handler:function(t){this.urlKey1=t},immediate:!0,deep:!0}}};const a={components:{ElectionContainer:s,CodeDialog:(0,o.Z)(c,(function(){var t=this,e=t._self._c;return e("div",[e("v-dialog",{attrs:{persistent:"","max-width":"500"},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[e("v-card",[e("v-card-title",[t._v("\n                Election Passcode\n            ")]),t._v(" "),e("v-card-text",[t.submitting?e("div",{staticClass:"text-center mt-4"},[e("v-progress-circular",{attrs:{indeterminate:"",size:"50",color:"primary"}}),t._v(" "),e("div",{staticClass:"mt-4"},[t._v("Please wait ...")])],1):[e("div",[e("v-toolbar-title",[t._v("\n                            Please enter passcode:\n                        ")])],1),t._v(" "),e("div",[e("v-text-field",{attrs:{filled:"",placeholder:"Passcode ...","hide-details":"auto"},model:{value:t.code,callback:function(e){t.code=e},expression:"code"}}),t._v(" "),t.invalid?e("div",{staticClass:"text-center mt-2 error--text"},[t._v("\n                            "+t._s(t.log)+"!\n                        ")]):t._e()],1),t._v(" "),e("div",{staticClass:"text-right mt-3"},[e("v-btn",{attrs:{text:""},on:{click:function(e){return t.$emit("close")}}},[t._v("\n                            Close\n                        ")]),t._v(" "),e("v-btn",{attrs:{color:"primary"},on:{click:t.submitCode}},[t._v("\n                            Submit\n                        ")])],1)]],2)],1)],1)],1)}),[],!1,null,null,null).exports},data:function(){return{noKey:!1,codeDialog:!1,code:"",urlKey:"",closed:!1,elect:{},elects:[]}},created:function(){this.findElection()},methods:{findElection:function(){var t=this;this.moment().toISOString();if(this.$route.params.key){var e=this.$route.params.key;axios.get("/student-api/election-api/".concat(e)).then((function(e){var n=e.data;t.elect=n}))}else this.noKey=!0,axios.get("/student-api/election-api").then((function(e){var n=e.data;t.elects=n}))},codeShow:function(t){this.codeDialog=!0,this.urlKey=t},submitCode:function(){}}};const l=(0,o.Z)(a,(function(){var t=this,e=t._self._c;return t.noKey?e("div",[t._l(t.elects,(function(n){return[e("election-container",{key:n.id,attrs:{elect:n},on:{codeDialog:function(e){return t.codeShow(n.urlkey)}}})]})),t._v(" "),e("code-dialog",{attrs:{urlKey:t.urlKey,show:t.codeDialog},on:{close:function(e){t.codeDialog=!1}}})],2):e("div",[e("election-container",{attrs:{elect:t.elect},on:{codeDialog:function(e){t.codeDialog=!0}}}),t._v(" "),e("code-dialog",{attrs:{show:t.codeDialog},on:{close:function(e){t.codeDialog=!1}}})],1)}),[],!1,null,null,null).exports},1496:(t,e,n)=>{n.r(e),n.d(e,{default:()=>a});const i={data:function(){return{announces:[],loading:!0,dialog:!1,selected:{}}},mounted:function(){this.getAnnounces()},methods:{refresh:function(){this.loading=!0,this.getAnnounces()},select:function(t){this.selected=t,this.dialog=!0},getAnnounces:function(){var t=this;axios.get("/student-api/announces/get-latest").then((function(e){var n=e.data;t.announces=n,setTimeout((function(){t.loading=!1}),2e3)}))}}};var o=n(1900);const s=(0,o.Z)(i,(function(){var t=this,e=t._self._c;return e("div",[e("v-card",{staticClass:"mb-4"},[e("v-card-text",[e("v-toolbar-title",{staticClass:"d-flex justify-space-between align-center"},[e("div",[t._v("\n                    Announcement\n                    "),e("v-icon",{staticClass:"ml-1"},[t._v("mdi-bullhorn-outline")])],1),t._v(" "),e("v-btn",{attrs:{icon:"",color:"primary"},on:{click:t.refresh}},[e("v-icon",[t._v("mdi-refresh")])],1)],1),t._v(" "),e("div",{staticClass:"pl-4"},[t.loading?e("div",[e("v-skeleton-loader",{staticClass:"mx-auto",attrs:{"max-width":"600",type:"list-item-three-line"}})],1):e("div",[t._l(t.announces,(function(n){return[e("div",{key:n.id,staticClass:"mb-2 primary--text text-decoration-underline",staticStyle:{"font-size":"21px",cursor:"pointer"},on:{click:function(e){return t.select(n)}}},[e("span",[t._v("#"+t._s(n.title))])])]}))],2)])],1),t._v(" "),t.announces.length>=4?e("v-card-actions",{staticClass:"pt-0 mt-0"},[e("v-btn",{staticClass:"mx-auto",attrs:{"x-small":"",color:"grey darken-3",outlined:""}},[t._v("\n                Show More\n                "),e("v-icon",{attrs:{small:""}},[t._v("mdi-chevron-down-circle-outline")])],1)],1):t._e()],1),t._v(" "),e("v-dialog",{attrs:{"max-height":"500"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e("v-card",[e("v-card-title",{staticClass:"d-flex justify-space-between"},[e("span",[t._v("Announcement")]),t._v(" "),e("v-btn",{attrs:{color:"secondary"},on:{click:function(e){t.dialog=!1}}},[e("span",{staticClass:"text-capitalize"},[t._v("Clos")])])],1),t._v(" "),e("v-card-text",[e("v-toolbar-title",{staticClass:"primary--text"},[t._v(t._s(t.selected.title))]),t._v(" "),e("div",[t._v("\n                "+t._s(t.selected.content)+"\n              ")])],1)],1)],1)],1)}),[],!1,null,null,null).exports;const c={components:{Election:n(165).default,Announces:s},data:function(){return{loading:!0}},created:function(){var t=this;setTimeout((function(){t.loading=!1}),2e3)},methods:{refresh:function(){var t=this;this.loading=!0,setTimeout((function(){t.loading=!1}),2e3)}}};const a=(0,o.Z)(c,(function(){var t=this,e=t._self._c;return e("div",[e("announces"),t._v(" "),e("v-card",[e("v-card-text",[e("v-toolbar-title",{staticClass:"d-flex justify-space-between align-center"},[e("div",[t._v("\n                    Election\n                    "),e("v-icon",{staticClass:"ml-1"},[t._v("mdi-cloud-print-outline")])],1),t._v(" "),e("v-btn",{attrs:{icon:"",color:"primary"},on:{click:t.refresh}},[e("v-icon",[t._v("mdi-refresh")])],1)],1),t._v(" "),t.loading?e("div",t._l(5,(function(t){return e("v-skeleton-loader",{key:t,staticClass:"mx-auto",attrs:{"max-width":"600",type:"image, article"}})})),1):e("election")],1)],1)],1)}),[],!1,null,null,null).exports}}]);