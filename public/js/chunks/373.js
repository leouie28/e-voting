"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[373],{4439:(t,e,a)=>{a.d(e,{Z:()=>o});const o=(0,a(1900).Z)({},undefined,undefined,!1,null,null,null).exports},669:(t,e,a)=>{a.d(e,{Z:()=>r});const o={props:{data:{type:Object,default:function(){return{title:"Table Header",isFetching:!1,keyword:""}}},options:{type:Boolean,default:function(){return!1}},hide:{type:Array,default:function(){return[]}},disable:{type:Array,default:function(){return[]}}}};const r=(0,a(1900).Z)(o,(function(){var t=this,e=t._self._c;return e("div",[e("v-toolbar",{attrs:{flat:""}},[e("v-toolbar-title",[t._v(t._s(t.data.title))]),t._v(" "),e("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),t._v(" "),t.hide.includes("refresh")?t._e():e("v-icon",{on:{click:function(e){return e.stopPropagation(),t.$emit("refresh")}}},[t._v("\n            mdi-autorenew\n            "+t._s(t.data.isFetching?"mdi-spin":"")+"\n        ")]),t._v(" "),e("v-spacer"),t._v(" "),e("div",{staticClass:"d-inline mr-2"},[e("v-text-field",{attrs:{dense:"",placeholder:"Search ...","append-icon":"mdi-magnify","hide-details":""}})],1),t._v(" "),t.hide.includes("excel")?t._e():e("v-tooltip",{attrs:{bottom:"",color:"primary"},scopedSlots:t._u([{key:"activator",fn:function(a){var o=a.on,r=a.attrs;return[e("v-btn",t._g(t._b({staticClass:"mr-2",attrs:{color:"success",dark:""},on:{click:function(e){return e.stopPropagation(),t.$emit("importExcel")}}},"v-btn",r,!1),o),[t._v("\n                    Import Excel \n                    "),e("v-icon",[t._v("mdi-upload")])],1)]}}],null,!1,1581108941)},[t._v(" "),e("span",[t._v("Import from excel file")])]),t._v(" "),t.hide.includes("download")?t._e():e("v-tooltip",{attrs:{bottom:"",color:"primary"},scopedSlots:t._u([{key:"activator",fn:function(a){var o=a.on,r=a.attrs;return[e("v-btn",t._g(t._b({staticClass:"mr-2",attrs:{color:"primary",dark:""}},"v-btn",r,!1),o),[t._v("\n                    Download \n                    "),e("v-icon",[t._v("mdi-download")])],1)]}}],null,!1,158237777)},[t._v(" "),e("span",[t._v("Download "+t._s(t.data.title)+" record")])]),t._v(" "),t.hide.includes("addNew")?t._e():e("v-tooltip",{attrs:{bottom:"",color:"primary"},scopedSlots:t._u([{key:"activator",fn:function(a){var o=a.on,r=a.attrs;return[e("v-btn",t._g(t._b({staticClass:"mr-2",attrs:{color:"secondary",dark:""},on:{click:function(e){return e.stopPropagation(),t.$emit("addNew")}}},"v-btn",r,!1),o),[t._v("\n                    Create \n                    "),e("v-icon",[t._v("mdi-plus")])],1)]}}],null,!1,20837204)},[t._v(" "),e("span",[t._v("Add New")])])],1)],1)}),[],!1,null,null,null).exports},9373:(t,e,a)=>{a.r(e),a.d(e,{default:()=>i});var o=a(4439),r=a(669);const n={components:{DeleteDialog:o.Z,TableHeader:r.Z},data:function(){return{data:{title:"Votes",isFetching:!1,keyword:"",filter:{}},footerPages:{"items-per-page-options":[5,10,15,20,30,40,50,100,-1]},options:{itemsPerPage:15},total:0,items:[],selectedItem:{},selected:[],headers:[{text:"ID",align:"start",sortable:!0,value:"id"},{text:"Voter Id",align:"start",sortable:!0,value:"voter_id"},{text:"Voter Name",align:"start",sortable:!0,value:"voter_name"},{text:"Vote Data",align:"start",sortable:!0,value:"data"},{text:"Date Submitted",align:"start",sortable:!0,value:"created_at"},{text:"Actions",align:"center",sortable:!1,value:"action"}]}},methods:{fetchPage:function(){var t=this;this.data.isFetching=!0;var e=this._createParams(this.options);e+=this._createFilterParams(this.data.filter),this.data.keyword&&(e=e+"&keyword="+this.data.keyword);var a=this.$route.params.id;axios.get("/admin-api/election/get-votes/".concat(a,"?").concat(e)).then((function(e){var a=e.data;t.data.title=a.details.name+" Votes",t.data_items=a.votes.data,t.total=a.votes.total,t.data.isFetching=!1}))},close:function(){this.form=!1,this.excelForm=!1}}};const i=(0,a(1900).Z)(n,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"pa-2"},[e("v-card",{staticClass:"pa-2",attrs:{elevation:"2"}},[e("table-header",{attrs:{data:t.data,hide:["filter","download","excel","addNew"]},on:{addNew:t.addNew,refresh:t.fetchPage,search:t.fetchPage},scopedSlots:t._u([{key:"custom_filter",fn:function(){return[e("admin-filter",{attrs:{filter:t.data.filter}})]},proxy:!0}])}),t._v(" "),e("v-data-table",{staticClass:"cursor-pointer table-fix-height clickable-item",attrs:{headers:t.headers,items:t.data_items,search:t.data.keyword,loading:t.data.isFetching,"server-items-length":t.total,"footer-props":t.footerPages,options:t.options,"items-per-page":t.options.itemsPerPage,"fixed-header":""},on:{"update:options":[function(e){t.options=e},t.fetchPage],"click:row":t.viewItem},scopedSlots:t._u([{key:"item.created_at",fn:function(e){var a=e.item;return[t._v("\n                "+t._s(t.moment(a.created_at).format("YYYY-MM-DD"))+"\n            ")]}},{key:"item.action",fn:function(a){var o=a.item;return[e("v-btn",{staticClass:"px-2",attrs:{elevation:"0",small:"",color:"primary"},on:{click:function(e){return t.editItem(o)}}},[e("v-icon",{staticClass:"mr-1",attrs:{small:""}},[t._v("mdi-eye")]),t._v("\n                    view vote\n                ")],1)]}},{key:"no-data",fn:function(){return[e("div",[t._v("No Data")])]},proxy:!0}],null,!0)})],1)],1)}),[],!1,null,null,null).exports}}]);