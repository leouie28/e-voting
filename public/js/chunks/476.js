"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[476],{4476:(t,e,o)=>{o.r(e),o.d(e,{default:()=>l});const i={props:{elect:{type:Object,default:function(){}}},computed:{isClose:function(){return this.moment().toISOString()>=this.moment(this.elect.closing).toISOString()}}};var n=o(1900);const s=(0,n.Z)(i,(function(){var t=this,e=t._self._c;return e("div",[e("v-card",{staticClass:"mx-auto my-3 elec-card",attrs:{elevation:"0","max-width":"600"}},[e("v-img",{attrs:{height:"150",src:t.elect.image}}),t._v(" "),e("v-card-title",{staticClass:"text-capitalize"},[t._v(t._s(t.elect.name))]),t._v(" "),e("v-card-text",[e("div",[t._v(t._s(t.elect.description))]),t._v(" "),e("v-divider",{staticClass:"my-2"}),t._v(" "),e("div",{staticClass:"text-left"},[e("div",[e("span",{staticClass:"text--primary"},[e("v-icon",{attrs:{color:"primary"}},[t._v("mdi-calendar")]),t._v("\n                        Open: "+t._s(t.moment(t.elect.opening).format("MM/DD/YYYY, h:mm a"))+"\n                    ")],1)]),t._v(" "),e("span",[e("span",{staticClass:"text--primary"},[e("v-icon",{attrs:{color:"red"}},[t._v("mdi-calendar")]),t._v("\n                        Close: "+t._s(t.moment(t.elect.closing).format("MM/DD/YYYY, h:mm a"))+"\n                    ")],1)])])],1),t._v(" "),e("v-card-actions",[t.isClose?e("v-btn",{attrs:{block:"",dark:"",color:"brown",large:""}},[t._v("\n                View Result\n                "),e("v-icon",{staticClass:"ml-1"},[t._v("mdi-chart-box")])],1):e("v-btn",{attrs:{block:"",color:"primary",large:"",outlined:""},on:{click:function(e){return t.$emit("codeDialog")}}},[t._v("\n                Vote Now\n                "),e("v-icon",{staticClass:"ml-1"},[t._v("mdi-checkbox-outline")])],1)],1)],1)],1)}),[],!1,null,null,null).exports;const c={data:function(){return{code:"",submitting:!1,invalid:!1,log:"",urlKey1:""}},props:{show:{type:Boolean,default:function(){return!1}},urlKey:{type:String,default:function(){return""}}},mounted:function(){},methods:{submitCode:function(){var t=this;if(console.log(this.code),this.code.length>=1){this.submitting=!0;var e="";e=this.$route.params.key?this.$route.params.key:this.urlKey1,axios.post("/student-api/election-api/".concat(e,"/check-code"),this.code).then((function(o){var i=o.data;setTimeout((function(){"error"==i.type?(t.submitting=!1,t.invalid=!0,t.log=i.text):"success"==i.type&&(localStorage.setItem("_passcode",t.code),t.$emit("close"),t.$router.push({path:"/election/"+e+"/vote"}))}),2e3)}))}}},watch:{urlKey:{handler:function(t){this.urlKey1=t},immediate:!0,deep:!0}}};const a={components:{ElectionContainer:s,CodeDialog:(0,n.Z)(c,(function(){var t=this,e=t._self._c;return e("div",[e("v-dialog",{attrs:{persistent:"","max-width":"500"},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[e("v-card",[e("v-card-title",[t._v("\n                Election Passcode\n            ")]),t._v(" "),e("v-card-text",[t.submitting?e("div",{staticClass:"text-center mt-4"},[e("v-progress-circular",{attrs:{indeterminate:"",size:"50",color:"primary"}}),t._v(" "),e("div",{staticClass:"mt-4"},[t._v("Please wait ...")])],1):[e("div",[e("v-toolbar-title",[t._v("\n                            Please enter passcode:\n                        ")])],1),t._v(" "),e("div",[e("v-text-field",{attrs:{filled:"",placeholder:"Passcode ...","hide-details":"auto"},model:{value:t.code,callback:function(e){t.code=e},expression:"code"}}),t._v(" "),t.invalid?e("div",{staticClass:"text-center mt-2 error--text"},[t._v("\n                            "+t._s(t.log)+"!\n                        ")]):t._e()],1),t._v(" "),e("div",{staticClass:"text-right mt-3"},[e("v-btn",{attrs:{text:""},on:{click:function(e){return t.$emit("close")}}},[t._v("\n                            Close\n                        ")]),t._v(" "),e("v-btn",{attrs:{color:"primary"},on:{click:t.submitCode}},[t._v("\n                            Submit\n                        ")])],1)]],2)],1)],1)],1)}),[],!1,null,null,null).exports},data:function(){return{noKey:!1,codeDialog:!1,code:"",urlKey:"",closed:!1,elect:{},elects:[]}},created:function(){this.findElection()},methods:{findElection:function(){var t=this;this.moment().toISOString();if(this.$route.params.key){var e=this.$route.params.key;axios.get("/student-api/election-api/".concat(e)).then((function(e){var o=e.data;t.elect=o}))}else this.noKey=!0,axios.get("/student-api/election-api").then((function(e){var o=e.data;t.elects=o}))},codeShow:function(t){this.codeDialog=!0,this.urlKey=t},submitCode:function(){}}};const l=(0,n.Z)(a,(function(){var t=this,e=t._self._c;return t.noKey?e("div",[t._l(t.elects,(function(o){return[e("election-container",{key:o.id,attrs:{elect:o},on:{codeDialog:function(e){return t.codeShow(o.urlkey)}}})]})),t._v(" "),e("code-dialog",{attrs:{urlKey:t.urlKey,show:t.codeDialog},on:{close:function(e){t.codeDialog=!1}}})],2):e("div",[e("election-container",{attrs:{elect:t.elect},on:{codeDialog:function(e){t.codeDialog=!0}}}),t._v(" "),e("code-dialog",{attrs:{show:t.codeDialog},on:{close:function(e){t.codeDialog=!1}}})],1)}),[],!1,null,null,null).exports}}]);